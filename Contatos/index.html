<!DOCTYPE html>
<html lang="en" ng-app="mainApp">
    <head>
        <title>Angular JS</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
        <link rel="stylesheet" href="style.css">
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
        <script type="text/javascript">
          var app = angular.module('mainApp', []);

          app.controller('contactsController', function ($scope){
              $scope.counter = 1;
              $scope.contacts = new Array({id: $scope.counter, name: "Marcos Lisboa", age: 25, email: "marcosplisboa@live.com"});
              $scope.contact = {id: '', name: '', age: '', email: ''};

              $scope.save = function () {
                  if ($scope.contact.id) {
                      for (var index = 0; index < $scope.contacts.length; index++) {
                          if ($scope.contact.id === $scope.contacts[index].id) {
                              $scope.contacts[index] = {id: $scope.counter, name: $scope.contact.name, age: $scope.contact.age, email: $scope.contact.email};
                              break;
                          }
                      }
                  } else {
                      $scope.counter += 1;
                      $scope.contacts.push({id: $scope.counter, name: $scope.contact.name, age: $scope.contact.age, email: $scope.contact.email});
                  }

                  $scope.contact = {};
              }

              $scope.remove = function (item) {
                 for (var index = 0; index < $scope.contacts.length; index++) {
                     if (item.id === $scope.contacts[index].id) {
                         $scope.contacts.splice(index, 1);
                         break;
                     }
                 }
              }

              $scope.edit = function (item) {
                 $scope.contact.id = item.id;
                 $scope.contact.name = item.name;
                 $scope.contact.age = item.age;
                 $scope.contact.email = item.email;
              }
          });
      	</script>

    </head>
    <body ng-controller="contactsController">
      <div class="container">

         <div class="row">
              <div class="col-md-6 col-md-offset-3">
                  <form class="form-horizontal" name="contactForm">
                      <fieldset>
                          <legend>Contato</legend>

                          <div class="form-group">
                              <label class="col-md-4 control-label" for="name">Name</label>
                              <div class="col-md-4">
                                  <input ng-model="contact.name" id="name" name="name" type="text" placeholder="Ex: Marcos" class="form-control input-md" required="">
                              </div>
                          </div>

                          <div class="form-group">
                              <label class="col-md-4 control-label" for="email">Email</label>
                              <div class="col-md-4">
                                  <input ng-model="contact.email" id="email" name="email" type="email" placeholder="Ex: marcos@mail.com" class="form-control input-md" required="">
                              </div>
                          </div>

                          <div class="form-group">
                              <label class="col-md-4 control-label" for="age">Age</label>
                              <div class="col-md-4">
                                  <input ng-model="contact.age" id="age" name="age" type="number" placeholder="Ex: 21" class="form-control input-md" required="">
                              </div>
                          </div>

                          <div class="form-group">
                              <label class="col-md-10 control-label" for="save"></label>
                              <div class="col-md-2">
                                  <button ng-click="save()" ng-disabled="contactForm.$invalid" id="save" name="save" class="btn btn-primary">Save</button>
                              </div>
                          </div>

                      </fieldset>
                  </form>
              </div>
          </div>

          <div class="row">
              <div class="col-md-10 col-md-offset-1">
                  <div class="panel panel-default panel-table">
                    <div class="panel-heading">
                      <div class="row">
                        <div class="col col-xs-6">
                          <h3 class="panel-title">Panel Heading</h3>
                        </div>
                        <!-- <div class="col col-xs-6 text-right">
                          <button type="button" class="btn btn-sm btn-primary btn-create">Create New</button>
                        </div> -->
                      </div>
                    </div>
                    <div class="panel-body">
                      <table class="table table-striped table-bordered table-list">
                        <thead>
                          <tr>
                              <th><em class="fa fa-cog"></em></th>
                              <th class="hidden-xs">ID</th>
                              <th>Name</th>
                              <th>Email</th>
                              <th>Age</th>
                          </tr>
                        </thead>
                        <tbody>
                            <tr  ng-repeat="contact in contacts">
                                <td align="center">
                                  <a data-ng-click="edit(contact)" class="btn btn-default"><em class="fa fa-pencil"></em></a>
                                  <a data-ng-click="remove(contact)" class="btn btn-danger"><em class="fa fa-trash"></em></a>
                                </td>
                                <td>{{contact.id}}</td>
                                <td>{{contact.name}}</td>
                                <td>{{contact.email}}</td>
                                <td>{{contact.age}}</td>
                            </tr>
                          </tbody>
                      </table>
                    </div>
                    <div class="panel-footer">
                      <div class="row">
                        <div class="col col-xs-4">Page 1 of 5
                        </div>
                        <div class="col col-xs-8">
                          <ul class="pagination hidden-xs pull-right">
                            <li><a href="#">1</a></li>
                            <li><a href="#">2</a></li>
                            <li><a href="#">3</a></li>
                            <li><a href="#">4</a></li>
                            <li><a href="#">5</a></li>
                          </ul>
                          <ul class="pagination visible-xs pull-right">
                              <li><a href="#">«</a></li>
                              <li><a href="#">»</a></li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
              </div>
          </div>
      </div>
    </body>
</html>
